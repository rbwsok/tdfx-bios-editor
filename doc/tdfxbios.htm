<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=koi8-r">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>tdfx bios editor</title>
</head>

<body bgcolor="#FFFFFF">

<p align="center"><font size="6"><strong>tdfx bios editor v1.62</strong></font></p>

<p align="left"><a href="#intro"><font size="3">Введение.</font></a><font
size="3"><br>
</font><a href="#menu"><font size="3">1. Меню
программы:</font></a><font size="3"><br>
</font><a href="#tabs"><font size="3">2. Закладки:</font></a><font
size="3"><br>
</font><a href="#fonts"><font size="3">2.1 Fonts</font></a><font
size="3"><br>
</font><a href="#dump"><font size="3">2.2 Dump</font></a><font
size="3"><br>
</font><a href="#bootstr"><font size="3">2.3 Boot-up Strings</font></a><font
size="3"><br>
</font><a href="#reg"><font size="3">2.4 Registers.</font></a><font
size="3"><br>
</font><a href="#pcir"><font size="3">2.5 PCIR</font></a><font
size="3"><br>
</font><a href="#vesa"><font size="3">2.6 VESA Strings</font></a><font
size="3"><br>
</font><a href="#videomodes"><font size="3">2.7 Video Mode</font></a><font
size="3"><br>
</font><a href="#logo"><font size="3">2.8 Logo image</font></a><font
size="3"><br>
</font><a href="#flash"><font size="3">3. Проверка и
прошивка биоса.</font></a><font size="3"><br>
</font><a href="#rush"><font size="3">4.
Модифицирование биосов от 3dfx Voodoo
Rush.</font></a><font size="3"><br>
</font><a href="#hist"><font size="3">5. История
обновлений и модификаций программы</font></a><font
size="3">.</font></p>

<p align="left"><a name="intro"></a><font size="4">Введение.</font></p>

<p align="left"><em><u>ВНИМАНИЕ:</u></em><em> автор
программы не несет никакой
ответственности за возможный
ущерб, причиненный в результате
работы этой программы.</em></p>

<p align="left">Я не буду подробно
рассматривать сейчас причины, из-за
которых вы будете модифицировать
биос своей видеокарты. Данная тема
уже не один раз рассматривалась в
различных статьях на многих сайтах.
Отмечу лишь наиболее важные:</p>

<ul>
    <li>Замена зарубежных стандартных
        шрифтов на локализованные 
        (русификация);</li>
    <li>Оптимизация быстродействия (в
        зависимости от условий
        использования и конфигурации
        компьютера);</li>
</ul>

<p align="left">Биос в видеокартах - это
программа. И от одного биоса к
другому может меняться. tdfx bios editor
анализирует эту программу и, если
анализ и идентификация прошла
нормально - вы можете изменять биос
по своему усмотрению. 100% гарантии
правильности анализа, автор
программы дать не может.</p>

<p align="left">Если идентификация биоса
не прошла успешно - программа
выдаст окно с ошибкой загрузки. А
неправильность анализа можно
узнать по пустым строкам там, где
они обязаны быть, и/или по нулевым
значениям управляющих регистров
или offset'ов, но не всегда. В этом
случае категорически не
рекомендуется изменять и прошивать
биос.</p>

<p align="left">В частности не
распознаются большинство биосов от
3dfx Voodoo5 6000, от 3dfx Voodoo 4 4000 и кое какие
от 3dfx Voodoo 3. Могут быть проблемы с
оригинальными OEM биосами. Не смотря
на это, из ~70 биосов для различных
видеокарт Voodoo, которые есть у
автора программы, ~60 успешно
распознаются. Если будет время и
желание - автор возможно добавит
неподдерживающися в данной версии
биосы.</p>

<p align="left">Данная программа
предназначена для корректировки
биосов видеокарт 3dfx Voodoo Banshee/3/4/5 и
ограниченно для 3dfx Voodoo Rush.
Замечания по корректировке биосов
для 3dfx Voodoo Rush можно прочитать ниже,
в конце описания.</p>

<p align="left"><em><u>ВНИМАНИЕ:</u></em><em>
Прежде чем приступить к
модифицированию и прошивке биоса -
необходимо понимать, что и зачем вы
делаете.</em></p>

<p><a name="menu"></a><font size="4">1. Меню
программы:</font></p>

<ul>
    <li><strong>Exit</strong> - выход из
        программы.</li>
    <li><strong>Load BIOS</strong> - загрузка биоса.</li>
    <li><strong>Reload</strong> <strong>BIOS</strong> -
        перезагрузка биоса.</li>
    <li><strong>Save BIOS</strong> <strong>As... </strong>-
        запись биоса на диск (с
        автоматической корректировкой
        контрольной суммы).</li>
    <li><strong>Help</strong> - вызов этой
        справки.</li>
    <li><strong>About </strong>- о программе.</li>
</ul>

<p><a name="tabs"></a><font size="4">2. Закладки:</font></p>

<ul>
    <li><strong>Fonts</strong> - шрифты биоса.</li>
    <li><strong>Dump</strong> - дамп памяти биоса.</li>
    <li><strong>Boot-up Strings</strong> - информация,
        показывающаяся при включении
        компьютера.</li>
    <li><strong>Registers</strong> - регистры
        управления видеокартой.</li>
    <li><strong>PCIR</strong> - стандартная
        информационная структура PCI/AGP
        устройств.</li>
    <li><strong>VESA Strings</strong> - информация vesa
        bios'а.</li>
    <li><strong>Video Mode </strong>- информация о
        поддерживаемых видеорежимах и
        регистрах, отвечающих за них.</li>
    <li><strong>Logo image</strong> - вывод картинки
        при инициализации карты</li>
</ul>

<p>Значения &quot;offset&quot; на всех
закладках - это смещение до какого
либо параметра, относительно
начала биоса. Значения в hex системе.
При клике на любом значении
&quot;offset&quot;, режим дампа будет
выставлен на просмотр, начиная со
строки, содержащей значение
&quot;offset&quot;. Значащие байты
параметра будут выделены синим
цветом.</p>

<p><a name="fonts"></a><font size="3"><strong>2.1</strong> Fonts</font>
- работа со шрифтами биоса.</p>

<p align="center"><img src="tdfxbios/Fonts.gif" width="618"
height="354"></p>

<p>В биосе содержатся шрифты 8x8, 8x14 и
8x16 пикселов. Программа позволяет их
просматривать, загружать свои
собственные и записывать
существующие. Это может
понадобиться, например, при
&quot;русификации&quot; bios'а. т.е. если в
bios загрузить шрифт с русскими
буквами, то впоследствии уже не
будет необходимости загружать
шрифты и расходовать на них
оперативную память. Это особенно
важно для &quot;чистого&quot; DOS и
текстовых (консольных)  режимов в
различных графических оболочках
типа Windows. Кроме того,  становится
возможным прочесть сообщения о
критических ошибках при сбоях
локализованных Windows </p>

<p>При некорректном распозновании
биоса редактором, можно попытаться
провести поиск шрифтов вручную. Для
этого служат клавиши &quot;Alternative
searching (method 1)&quot; и &quot;Alternative searching (method
2)&quot;. Нажатие на эти кнопки
включает альтернативные алгоритмы
поиска шрифтов. Пользователь
должен контролировать
правильность нахождения шрифтов
визуально, по изображению шрифта.
Если изображение корректное, то
лучше альтернативные алгоритмы не
использовать. Поиск шрифта ведется
в соответствии с выбранным режимом
просмотра. Альтернативные режимы
поиска также могут найти шрифты в
биосах для других видеокарт.
Например ATI и nVidia. При желании эти
шрифты можно сохранить на диск. В
некоторых не 3dfx биосах отсутствуют
шрифты 8x14, и редактор может
некорректно найти вместо 8x14 шрифта
- 8x16. Изображение при этом будет
некорректно. Что-либо менять в
биосах не 3dfx карт категорически не
рекоментуется. </p>

<p>Шрифты можно взять из cpi файлов,
которые идут с любой версией Windows.
Программа позволяет выбрать
кодовую страницу и заносить в биос
шрифты, в соответствии с ней. Окно
управления cpi файлом будет выведено
при загрузке соответствующих
шрифтов. Русской альтернативной
кодировке соответствует 866 кодовая
страница.</p>

<p align="center"><img src="tdfxbios/selectfont.gif" width="434"
height="379"></p>

<p>fnt шрифты можно загружать только
каждый из соответствующего режима.
Т.е. например шрифт 8x14 можно
загрузить только из режима
просмотра шрифта 8x14. Режим
просмотра на cpi шрифты никакого
влияния не оказывает.</p>

<p>Шрифты 8x14 и 8x16 содержат также fix-up
таблицы замены символов (9x14 и 9x16).
Сделано это скорее всего для
быстрой замены образов символов
при создании биоса. Т.е. необходимо
только для разработчика самого
биоса. Простая замена шрифта не
даст требуемого результата. т.е.
часть символов будет отображаться
неправильно. tdfx bios editor
автоматически скорректирует эти
таблицы при загрузке
соответствующих шрифтов.</p>

<p>Информация в &quot;offset table&quot;
содержит в себе смещение до fix-up
таблицы шрифта, относительно
начала биоса. Шрифт 8x8 не имеет fix-up
таблицы.</p>

<p>Шрифты в биосах от Voodoo Rush могут не
иметь fix-up таблиц, или иметь только
для шрифта 8x16.</p>

<p><a name="dump"></a><font size="3"><strong>2.2</strong></font><font
size="2"><strong> </strong></font>Dump - дамп памяти
биоса.</p>

<p align="center"><img src="tdfxbios/Dump1.gif" width="618"
height="354"></p>

<p>Здесь можно просмотреть сам биос.
Изменения биоса, относительно
исходного выделяются красным
цветом.</p>

<p align="center"><img src="tdfxbios/Dump3.gif" width="618"
height="354"></p>

<p align="left">Просмотр текущего
параметра в биосе. Выделяется синим
цветом.</p>

<p align="center"><img src="tdfxbios/Dump2.gif" width="618"
height="354"></p>

<p>Apply - делает текущий биос исходным.
Все операции Restore выполняются
относительно исходного биоса.</p>

<p>Restore - отменяет все изменения и
восстанавливает биос из исходного.</p>

<p><a name="bootstr"></a><strong>2.3 </strong>Boot-up Strings -
информация, показывающаяся при
включении компьютера.</p>

<p align="center"><img src="tdfxbios/Strings.gif" width="618"
height="354"></p>

<p>Можно поменять выводимую
информацию. в биосе она разбита на
несколько частей:</p>

<ol>
    <li>Информация о видеокарте и
        самом биосе.</li>
    <li>Информация о производителе
        видеокарты.</li>
    <li>Информация об объеме
        установленной памяти.</li>
</ol>

<p>В tdfx bios editor'е можно менять только
первые две. Необходимо после
последнего символа сделать перевод
строки. Информацию об объеме
установленной памяти, автор
считает изменять не корректно.
Поэтому оно и не реализовано.</p>

<p>Так же можно изменить дату
создания биоса.</p>

<p>Apply - принятие изменений и
прописывание строк в сам биос.</p>

<p>Restore - отмена изменений и
восстановление исходных строк.</p>

<p><a name="reg"></a><strong>2.4</strong> Registers -
управляющие регистры видеокаты.</p>

<p align="center"><img src="tdfxbios/Reg.gif" width="618"
height="354"></p>

<p>С помощью управляющих регистров
можно менять тайминги памяти,
частоту чипов и многое другое.</p>

<p><em><u>ВНИМАНИЕ:</u></em><em> если прошить
биос с некорректными значениями
управляющих регистров, то
видеокарта может не заработать,
вплоть до полного отказа
видеокарты.</em></p>

<p>Напротив значения каждого
регистра есть кнопка [...], нажав
которую можно попасть в окно
конфигурирования данного регистра.
Само конфигурирование происходит
побитово.</p>

<p>Compare - загрузка второго биоса для
сравнения регистров. Изменение
регистров второго биоса
заблокировано.</p>

<p>При конфигурировании какого-либо
регистра будет представлено
примерно следующее:</p>

<p align="center"><img src="tdfxbios/draminit0.gif" width="504"
height="522"></p>

<p align="left">Вверху окна представлено
текущее hex значение регистра,
правее - bin значение. Ниже - биты с
коротким описанием их
принадлежности. Вводятся значения
в dec системе. Рядом с каждым битовым
полем находятся соответствующие
значения из 2-го биоса (если он
загружен).</p>

<p>Комментарии к каждому битовому
полю взяты из спецификации на ядро
Avenger (Voodoo 3). Их отличия для ядра Napalm
(Voodoo 4/5) отмечены отдельно - в
квадратных скобках. Отличия Banshee от
Avenger незначительны.</p>

<p>Более подробное описание можно
найти в спецификациях &quot;Avenger. Super
high performance graphics engine for 3d game acceleration&quot;
и &quot;Napalm. Super high performance graphics engine for 3d
game acceleration&quot;.</p>

<p>Наибольший интерес представляет
регистр pllCtrl1 - задающий частоту
чипсета/памяти видеокарты.
Конечная частота рассчитывается по
определенной формуле. Одни и те же
значения частоты можно получать
различными значениями. Из-за этого
регулирование частоты одним
бегунком довольно проблематично.
Рекомендуется выставлять как можно
меньшие значения. Например, частоту
166 мгц можно получить, выставив 1,8,231
- K,M и N соответственно (166.807), а можно
и 1,3,114 (166.091). Второй способ -
предпочтительнее именно из-за
меньших значений составляющих. </p>

<p align="center"><img src="tdfxbios/pllctrl1.gif" width="423"
height="334"></p>

<p>После прошивки биоса, узнать
установленную частоту можно,
например, с помощью V.Control или 3dfx tools
(закладка 3dfx info). В закладке разгона,
3dfx tools не показывают реальную
частоту видеокарты.</p>

<p>Прежде чем прошивать биос с
повышенной частотой, необходимо
убедиться в работоспособности на
ней видеокарты. </p>

<p>pllCtrl2 в видеокартах 3dfx Voodoo3/4/5 не
используется. Вернее явно не
задается. Его изменение имеет смысл
только для биосов от 3dfx Voodoo Banshee.
Побитовое редактирование
отсутствует.</p>

<p>Apply - принятие изменений и
прописывание регистров в сам биос.</p>

<p>Restore - отмена изменений и
восстановление исходных значений.</p>

<p><a name="pcir"></a><strong>2.5</strong> PCIR -
информационная структура PCI/AGP
устройств.</p>

<p align="center"><img src="tdfxbios/Pcir.gif" width="618"
height="354"></p>

<p>Ее изменение заблокировано, т.к.
ничего не даст, кроме возможной
неработоспособности видеокарты. Ну
а просто посмотреть ее может быть
интересно.</p>

<p><a name="vesa"></a><strong>2.6</strong> VESA Strings -
информация vesa bios'а.</p>

<p align="center"><img src="tdfxbios/Vesa.gif" width="618"
height="354"></p>

<p>Данную информацию можно получить,
например, в DOS'е через функции vesa
bios'а. Представлены только текстовые
строки.</p>

<p>Apply - принятие изменений и
прописывание строк в сам биос.</p>

<p>Restore - отмена изменений и
восстановление исходных строк.</p>

<p><a name="videomodes"></a><strong>2.7</strong> Video Mode -
информация о поддерживаемых
видеорежимах и регистрах,
отвечающих за них.</p>

<p align="center"><img src="tdfxbios/MVIDEO.GIF" width="618"
height="354"></p>

<p align="left">Представлен список
поддерживаемых CGA, EGA, VGA и SVGA
режимов. Изменение регистров
заблокировано.</p>

<p align="left"><a name="logo"></a><strong>2.8</strong> Logo
image - вывод картинки при
инициализации карты.</p>

<p align="left">Можно разнообразить те
серые надписи, возникающие на
экране при включении или
перезагрузке компьютера, путем
вставки какого-либо изображения
рядом с текстовыми строками.</p>

<p align="center"><img src="TDFXBIOS/Bmplogo.gif" width="618"
height="354"></p>

<p align="left">Load image - загрузка bmp файла с
изображением. поддерживаются 16-ти
цветные, некомпрессированные
изображения с шириной, кратной 8.
Также необходимо, чтобы
изображение использовало
стандартную dos палитру.</p>

<p align="left">В архиве, с программой идет
файл dospal.act - палитра для программы
Photoshop. Привести изображение к
какой-либо палитре достаточно
просто - указываем индексное
представление цветов, при этом
Photoshop выдаст окно выбора палитры.
Выбираем заказную и загружаем
нужную палитру (в нашем случае
dospal.act). Все - изображение приведено
к нужной палитре.</p>

<p align="left">В результате изменения
биоса, полностью заменяется вывод
на экран текстовых строк. Поэтому,
если вы решили вставить в биос
картинку, в закладке Boot-up strings можно
ничего не менять. Выводиться будут
те пять строк, которые расположены
на закладке Logo image. Последняя строка
- информация о типе и объеме памяти.
Тут необходимо самостоятельно
написать необходимые данные. Или
вообще стереть весь текст.</p>

<p align="left">В результате, при загрузке,
можно получить примерно следующее:</p>

<p align="center"><img src="TDFXBIOS/logoview.GIF" width="419"
height="50"></p>

<p align="left">Хочется отметить, что
вставить изображение можно только
в 40 килобайтный биос (обычно размер
файла составляет 64 кб, но
используются только 40кб). В этих
биосах есть примерно 6-7 кб
неиспользуемой памяти, в которую и
прописывается картинка. В 32-х
килобайтных биосах свободного
места почти нет и картинку запихать
туда невозможно.</p>

<p align="left"><em><u>ВНИМАНИЕ:</u></em><em>
&quot;Apply&quot;, на данной закладке можно
нажимать только один раз! При
нескольких нажатиях, лучшим
выходом будет перезагрузка биоса.
После нажатия на &quot;Apply&quot;, также
категорически запрещается что-либо
изменять на закладке &quot;Boot-up
strings&quot;.</em></p>

<p align="left">После изменения биоса и
повторной загрузке его в редактор,
текстовые строки редактировать
будет невозможно.</p>

<p><a name="flash"></a><font size="4">3. Проверка и
прошивка биоса:</font></p>

<p>Проверить биос, не прошивая его,
можно, например, с помощью
программы vgabios от nVidia. Если подмена
биоса прошла удачно, то можно
прошить его в flash память видеокарты
с помощью прошивальщика flash от 3dfx.
Если же компьютер завис, или
появились какие-либо признаки
некорректной работы - то прошивать
биос категорически не
рекомендуется. Проверять и
прошивать биос необходимо в чистом
DOS'е - до загрузки Windows'а, или
загрузившись с системной дискеты. В
Windows'е прошивать биос категорически
не рекомендуется.</p>

<p>Если же вы все таки запороли биос
видеокарты, и при включении
компьютера видим черный экран - то
тогда понадобится вторая
видеокарта, основанная не на 3dfx
чипе. тогда процесс восстановления
работоспособности такой -
устанавливаем в компьютер обе
видеокарты и запускаемся с рабочей.
Ну а потом прошиваем оригинальный
(не измененный) биос точно также как
это описано выше. если прошивка
прошла успешно, то можно
вытаскивать вторую видеокарту и
перецеплять монитор на Voodoo. Должно
все заработать.</p>

<p><a name="rush"></a><font size="4">4.
Модифицирование биосов от 3dfx Voodoo
Rush.</font></p>

<p>Биосы от 3dfx Voodoo Rush поддержаны
очень ограниченно. Сами карты, как и
их биосы очень сильно различаются
между собой - т.к. выпускались
различными производителями и с
разными 2d ядрами.</p>

<p>Корректной может быть только
изменение шрифтов. После загрузки
такого биоса в других закладках вы
скорее всего ничего не увидите.
Что-то там изменять категорически
не рекомендуется. Но загрузить
измененные шрифты можно.
Проверяется биос точно также как и
на других видеокартах - vgabios'ом. Но
вот для прошивки нужны специальные
утилиты. Стандартный 3dfx'овский flash
не подойдет. Но встречаются также
Rush'ы и без flash'ек - с EPROM памятью.
Прошивка таких возможно только на
программаторе.</p>

<p align="left"><a name="hist"></a><font size="4">5.
История обновлений и модификаций
программы:</font></p>

<p><font size="3">v1.62 (14.07.2004)<br>
1. добалены альтернативные
алгоритмы поиска шрифтов.<br>
2. </font>ускорена расцветка дампа.<br>
3. в меню добавлен пункт Reload BIOS.<br>
4. косметические визуальные
изменения.<br>
5. исправлено несколько мелких
ошибок.<br>
6. при загрузке биосов от не 3dfx карт,
в закладке PCIR должна выводиться
информация по биосу.</p>

<p><font size="3">v1.6 (03.06.2003)<br>
1. добавлена возможность вставки
картинки, при включении видеокарты.<br>
2. </font>добавлена благодарность fin'у.
;)</p>

<p><font size="3">v1.5<br>
1. добавлена возможность сравнения
значений регистров двух биосов.<br>
2. </font>в диалоговом окне &quot;Load BIOS&quot;
добавлены маски &quot;*.rom *.bin&quot; и
&quot;все файлы&quot;.<br>
3. исправлена ошибка со 100% загрузкой
процессора при запуске программы.</p>

<p><font size="3">v1.4<br>
1. оптимизация навигации по биосу.<br>
2. добавлена закладка видеорежимов.<br>
3. доработан анализ структуры PCIR.<br>
4. мелкие внешние изменения</font></p>

<p><font size="3">v1.3<br>
1. добавлена поддержка загрузки
шрифтов из cpi файлов.<br>
2. в дампе, сивольное представление
измененных байтов также выделяется
красным цветом.<br>
3. при клике на offset'е, дамп будет
выводиться с указанной строки.
значащие байты параметра
выделяются синим цветом.</font></p>

<p><font size="3">v1.2<br>
1. добавлена ограниченная поддержка
voodoo rush. менять можно только шрифты.<br>
2. в описаниях регистров внесены
изменения в соответствии со
спецификацией Napalm'а.<br>
3. исправлен глюк с регистром miscinit1.<br>
4. убрано редактирование rom
сигнатуры. за ее ненадобностью.<br>
5. кое какие косметические
изменения и исправления мелких
ошибок в коде.</font></p>

<p><font size="3">v1.1<br>
1. автоматическая коррекция
контрольной суммы перед записью
биоса.<br>
2. проверка на видеобиос при
загрузке</font><font size="4"> <br>
</font><font size="3">3. вывод имени файла
загруженного биоса в заголовке
окна</font><font size="4"> <br>
</font><font size="3">4. Save заменен на Save As...</font><font
size="4"> <br>
</font><font size="3">5. добавлена запись
шрифтов</font><font size="4"> </font><font size="3"><br>
6. добавлена закладка с окном для
редактирования строк, возвращаемых
при запросе информации о vesa.<br>
7. измененные байты в дампе
выделяются красным цветом. их
символьное представление осталось
прежним.</font><font size="4"><br>
</font><font size="3">8. в дампе появились
кнопки Apply и Restore. </font><font size="4"><br>
</font><font size="3">9. кое какие
косметические изменения и
исправления мелких ошибок в коде.</font></p>

<p><font size="3">v1.0<br>
начальная базовая версия</font></p>

<p>&nbsp;</p>

<p>По всем вопросам, предложениям и
замечаниям можно обращаться на e-mail
автора или на форум <a
href="www.voodoodrivers.org">www.voodoodrivers.org</a>.</p>

<p align="left"><em>Автор выражает огромную
благодарность Кисленко Валериану
Владимировичу (</em><a
href="mailto:valerian_k@mail.ru"><em>valerian_k@mail.ru</em></a><em>),
а также Алексею Ф. aka fin (</em><a
href="files@overclockers.ru"><em>files@overclockers.ru</em></a><em>).
за информацию, поддержку и
конструктивные советы и
предложения.</em></p>

<p align="left"><em>Певцов Константин aka Rainbow
(</em><a href="mailto:rbws@mail.ru"><em>rbws@mail.ru</em></a><em>)</em></p>

<p align="left"><em>14.07.2004</em></p>
</body>
</html>
